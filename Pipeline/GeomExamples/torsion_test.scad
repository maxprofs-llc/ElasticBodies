module drawBasicShape(x1, y1, x2, y2, width)
{
	length = sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));
	if (width!=0.0) {
		square(size=[width, length], center = false);
		translate([width/2.0, 0, 0]) circle(d=width);
		translate([width/2.0, length, 0]) circle(d=width);
	}
}

module translateAndRotate(x1, y1, x2, y2, width)
{
	if (width != 0.0) {
		angle = atan((y2-y1)/(x2-x1)) +270;
		if (x2>=x1) {
			translate([x1, y1, 0.0]) rotate([0.0, 0.0, angle]) translate([-width/2.0, 0.0, 0.0]) drawBasicShape(x1, y1, x2, y2, width);
		}
		else {
			translate([x1,y1, 0.0]) rotate([0.0, 0.0, angle+180]) translate([-width/2.0, 0.0, 0.0]) drawBasicShape(x1, y1, x2, y2, width);
		}
	}
}

$fn=50;

points = [
//[0.00000000, 0.00000000, 1.00000000],
//[0.00000000, 0.00000000, 1.00000000],
//[0.00000000, 0.00000000, 1.00000000],
//[0.00000000, 0.00000000, 1.00000000],
//[0.00000000, 0.00000000, 1.00000000],
//[0.00014063, 0.00024357, 1.00000000],
//[0.00228633, 0.00396005, 1.00000000],
//[0.00945754, 0.01638094, 1.00000000],
//[0.02469600, 0.04277473, 1.00000000],
//[0.05095771, 0.08836036, 1.00000000],
//[0.08479167, 0.15465770, 1.00000000],
//[0.11201313, 0.23698951, 1.00000000],
//[0.11741333, 0.33008731, 1.00000000],
//[0.08578354, 0.42868265, 1.00000000],
//[0.00546433, 0.52597014, 1.00000000],
//[-0.11902604, 0.60813928, 1.00000000],
//[-0.27856267, 0.65938481, 1.00000000],
//[-0.46402029, 0.66390135, 1.00000000],
//[-0.66581633, 0.60667562, 1.00000000],
[-0.86775537, 0.48414811, 1.00000000],
[-1.04866667, 0.30137684, 1.00000000],
[-1.18725796, 0.06363028, 1.00000000],
[-1.26229100, -0.22376076, 1.00000000],
[-1.25840879, -0.54867436, 1.00000000],
[-1.17134133, -0.88618648, 1.00000000],
[-0.99804688, -1.20995476, 1.00000000],
[-0.73548367, -1.49363690, 1.00000000],
[-0.38446871, -1.71222727, 1.00000000],
[0.03412267, -1.84766866, 1.00000000],
[0.49291804, -1.88415453, 1.00000000],
[0.96454167, -1.80587947, 1.00000000],
[1.42152625, -1.59814798, 1.00000000],
[1.83482667, -1.26539475, 1.00000000],
[2.17406708, -0.82818847, 1.00000000],
[2.40883000, -0.30760299, 1.00000000],
[2.50876042, 0.27525174, 1.00000000],
[2.45422933, 0.89307311, 1.00000000],
[2.24840425, 1.50539695, 1.00000000],
[1.89736867, 2.07007553, 1.00000000],
[1.40720608, 2.54496114, 1.00000000],
[0.78833333, 2.89079280, 1.00000000],
[0.07690021, 3.08545214, 1.00000000],
[-0.68148167, 3.11312404, 1.00000000],
[-1.44118604, 2.95800308, 1.00000000],
[-2.15673067, 2.60553096, 1.00000000],
[-2.78563021, 2.06710341, 1.00000000],
[-3.28823100, 1.37863912, 1.00000000],
[-3.62499029, 0.57701735, 1.00000000],
[-3.75641333, -0.30086415, 1.00000000],
[-3.65757562, -1.21249958, 1.00000000],
[-3.33854167, -2.10191582, 1.00000000],
[-2.81452021, -2.91115977, 1.00000000],
[-2.10072000, -3.58227829, 1.00000000],
[-1.21692246, -4.06127831, 1.00000000],
[-0.21401033, -4.32110130, 1.00000000],
[0.84418229, -4.34590492, 1.00000000],
[1.89377867, -4.11988376, 1.00000000],
[2.87117933, -3.62848118, 1.00000000],
[3.71986400, -2.88902033, 1.00000000],
[4.39080467, -1.95256469, 1.00000000],
[4.83533333, -0.87179891, 1.00000000],
[5.00480900, 0.30058457, 1.00000000],
[4.86805867, 1.50685072, 1.00000000],
[4.44141633, 2.67555041, 1.00000000],
[3.74921600, 3.73292514, 1.00000000],
[2.81579167, 4.60521638, 1.00000000],
[1.67009433, 5.22329539, 1.00000000],
[0.37716946, 5.55422773, 1.00000000],
[-0.98095467, 5.58210877, 1.00000000],
[-2.32215079, 5.29113311, 1.00000000],
[-3.56462500, 4.66665006, 1.00000000],
[-4.63722904, 3.73088659, 1.00000000],
[-5.48143733, 2.54979587, 1.00000000],
[-6.03945663, 1.19186797, 1.00000000],
[-6.25350367, -0.27440477, 1.00000000],
[-6.08528646, -1.77602866, 1.00000000],
[-5.55668800, -3.22611322, 1.00000000],
[-4.70116754, -4.53509452, 1.00000000],
[-3.55218433, -5.61340866, 1.00000000],
[-2.14770121, -6.37645563, 1.00000000],
[-0.56633333, -6.78444301, 1.00000000],
[1.09173954, -6.82134717, 1.00000000],
[2.72613967, -6.47136271, 1.00000000],
[4.23682342, -5.71968383, 1.00000000],
[5.53742933, -4.59243803, 1.00000000],
[6.55978125, -3.17015816, 1.00000000],
[7.23696067, -1.53713967, 1.00000000],
[7.50205142, 0.22232027, 1.00000000],
[7.32038400, 1.99998752, 1.00000000],
[6.77053258, 3.60356635, 1.00000000],
[5.95591667, 4.82231812, 1.00000000],
[4.97995575, 5.44550423, 1.00000000],
//[3.94385067, 5.29105957, 1.00000000],
//[2.92554579, 4.47748001, 1.00000000],
//[1.98910367, 3.30266697, 1.00000000],
//[1.19840104, 2.06692298, 1.00000000],
//[0.61646133, 1.06774235, 1.00000000],
//[0.26006963, 0.45045380, 1.00000000],
//[0.07705767, 0.13346779, 1.00000000],
//[0.00963221, 0.01668347, 1.00000000],
];

translate([0.0, 0.0, 0.00000000]) {
	linear_extrude(height = 0.40400000, center = false, convexity = 10, twist = 0) {
		union() {
			for( i=[0:len(points)-2] ){ 
				x1 = points[i][0];
				y1 = points[i][1];
				x2 = points[i+1][0];
				y2 = points[i+1][1];
				width = points[i+1][2];
				translateAndRotate(x1, y1, x2, y2, width);
			}
		}
	}
}

translate([0.00000000, 0.00000000, 0.0]) circle(.1);
translate([0.25000000, 0.43301270, 0.0]) circle(.1);
translate([-0.50000000, 0.86602540, 0.0]) circle(.1);
translate([-1.50000000, 0.00000000, 0.0]) circle(.1);
translate([-1.00000000, -1.73205081, 0.0]) circle(.1);
translate([1.25000000, -2.16506351, 0.0]) circle(.1);
translate([3.00000000, -0.00000000, 0.0]) circle(.1);
translate([1.75000000, 3.03108891, 0.0]) circle(.1);
translate([-2.00000000, 3.46410162, 0.0]) circle(.1);
translate([-4.50000000, 0.00000000, 0.0]) circle(.1);
translate([-2.50000000, -4.33012702, 0.0]) circle(.1);
translate([2.75000000, -4.76313972, 0.0]) circle(.1);
translate([6.00000000, -0.00000000, 0.0]) circle(.1);
translate([3.25000000, 5.62916512, 0.0]) circle(.1);
translate([-3.50000000, 6.06217783, 0.0]) circle(.1);
translate([-7.50000000, 0.00000000, 0.0]) circle(.1);
translate([-4.00000000, -6.92820323, 0.0]) circle(.1);
translate([4.25000000, -7.36121593, 0.0]) circle(.1);
translate([9.00000000, -0.00000000, 0.0]) circle(.1);
translate([4.75000000, 8.22724134, 0.0]) circle(.1);
